(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{9794:(e,o,t)=>{Promise.resolve().then(t.bind(t,5852))},6046:(e,o,t)=>{"use strict";var r=t(6658);t.o(r,"usePathname")&&t.d(o,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(o,{useRouter:function(){return r.useRouter}})},5852:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>A});var r=t(5155),s=t(2115),l=t(8998),a=t(8412),i=t(9561),n=t(152),d=t(1441),u=t(2282),c=t(6854),h=t(1535),x=t(4294);let m=(0,t(2471).A)((0,r.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");var p=t(8173),g=t.n(p),b=t(9606),f=t(2651),v=t(6046),w=t(1665);function A(){let{control:e,handleSubmit:o,formState:{errors:t}}=(0,b.mN)(),[p,A]=(0,s.useState)(!1),j=(0,v.useRouter)(),R="http://localhost:4000",y=async e=>{try{console.log("data",e),A(!0),console.log("API URL",R);let o=await f.A.post("".concat(R,"/auth/login"),e);localStorage.setItem("token",o.data.accessToken),w.oR.success("Login successful!",{autoClose:2e3}),j.push("/dashboard")}catch(r){var o,t;let e=(null===(t=r.response)||void 0===t?void 0:null===(o=t.data)||void 0===o?void 0:o.message)||"Login failed. Please try again.";w.oR.error(e)}finally{A(!1)}};return(0,r.jsx)(l.A,{sx:{bgcolor:"#1c1e21",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(a.A,{maxWidth:"xs",sx:{bgcolor:"#2a2d32",p:4,borderRadius:2,boxShadow:3},children:[(0,r.jsx)(i.A,{variant:"h4",fontWeight:"bold",color:"white",textAlign:"center",mb:2,children:"Login"}),(0,r.jsxs)("form",{onSubmit:o(y),children:[(0,r.jsx)(b.xI,{name:"email",control:e,defaultValue:"",rules:{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email format"}},render:e=>{var o;let{field:s}=e;return(0,r.jsx)(n.A,{...s,fullWidth:!0,label:"Email",variant:"outlined",sx:{bgcolor:"#333",borderRadius:1,mb:2,input:{color:"white"}},InputLabelProps:{style:{color:"white"}},InputProps:{startAdornment:(0,r.jsx)(d.A,{position:"start",children:(0,r.jsx)(h.A,{sx:{color:"white"}})})},error:!!t.email,helperText:null===(o=t.email)||void 0===o?void 0:o.message})}}),(0,r.jsx)(b.xI,{name:"password",control:e,defaultValue:"",rules:{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}},render:e=>{var o;let{field:s}=e;return(0,r.jsx)(n.A,{...s,fullWidth:!0,label:"Password",variant:"outlined",type:"password",sx:{bgcolor:"#333",borderRadius:1,mb:3,input:{color:"white"}},InputLabelProps:{style:{color:"white"}},InputProps:{startAdornment:(0,r.jsx)(d.A,{position:"start",children:(0,r.jsx)(x.A,{sx:{color:"white"}})})},error:!!t.password,helperText:null===(o=t.password)||void 0===o?void 0:o.message})}}),(0,r.jsx)(u.A,{type:"submit",fullWidth:!0,variant:"contained",color:"success",sx:{py:1.5,fontSize:"16px",borderRadius:2,mb:2},disabled:p,children:p?(0,r.jsx)(c.A,{size:24,sx:{color:"white"}}):"Login"})]}),(0,r.jsx)(u.A,{fullWidth:!0,variant:"outlined",sx:{color:"white",borderColor:"white",py:1.5,fontSize:"16px",borderRadius:2,mb:2},startIcon:(0,r.jsx)(m,{sx:{color:"white"}}),onClick:()=>w.oR.info("\uD83D\uDD39 Google login coming soon!"),children:"Login with Google"}),(0,r.jsxs)(i.A,{color:"white",textAlign:"center",children:["New User?"," ",(0,r.jsx)(g(),{href:"/register",style:{color:"#4caf50",fontWeight:"bold",textDecoration:"none"},children:"Register here"})]})]})})}}},e=>{var o=o=>e(e.s=o);e.O(0,[452,152,586,0,441,517,358],()=>o(9794)),_N_E=e.O()}]);